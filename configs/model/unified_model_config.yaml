# Unified Model Configuration for Churn Prediction
# This file consolidates all model configurations into a single source of truth

models:
  supported_types:
    - xgboost
    - lightgbm
    - random_forest
    - logistic_regression
    - svm

  model_configs:
    xgboost:
      default_params:
        n_estimators: 100
        max_depth: 5
        learning_rate: 0.1
        subsample: 0.8
        colsample_bytree: 0.8
        objective: 'binary:logistic'
        eval_metric: 'logloss'
        random_state: 42
      hyperparameter_space:
        n_estimators: [50, 100, 200, 300]
        max_depth: [3, 5, 7, 10]
        learning_rate: [0.01, 0.1, 0.2, 0.3]
        subsample: [0.7, 0.8, 0.9, 1.0]
        colsample_bytree: [0.7, 0.8, 0.9, 1.0]
        min_child_weight: [1, 3, 5, 7]
        gamma: [0, 0.1, 0.2, 0.3]
      
    lightgbm:
      default_params:
        n_estimators: 100
        max_depth: 5
        learning_rate: 0.1
        subsample: 0.8
        colsample_bytree: 0.8
        objective: 'binary'
        metric: 'binary_logloss'
        random_state: 42
        verbose: -1
      hyperparameter_space:
        n_estimators: [50, 100, 200]
        max_depth: [3, 5, 7, -1]
        learning_rate: [0.01, 0.1, 0.2]
        num_leaves: [31, 50, 100]
        subsample: [0.7, 0.8, 0.9]
        colsample_bytree: [0.7, 0.8, 0.9]
      
    random_forest:
      default_params:
        n_estimators: 100
        max_depth: 10
        min_samples_split: 2
        min_samples_leaf: 1
        max_features: 'sqrt'
        random_state: 42
        n_jobs: -1
      hyperparameter_space:
        n_estimators: [50, 100, 200, 300]
        max_depth: [5, 10, 15, 20, None]
        min_samples_split: [2, 5, 10, 20]
        min_samples_leaf: [1, 2, 4, 8]
        max_features: ['sqrt', 'log2', None]
        bootstrap: [True, False]
      
    logistic_regression:
      default_params:
        max_iter: 1000
        random_state: 42
        solver: 'lbfgs'
      hyperparameter_space:
        C: [0.001, 0.01, 0.1, 1, 10, 100]
        penalty: ['l1', 'l2', 'elasticnet']
        solver: ['liblinear', 'saga', 'lbfgs']
        max_iter: [100, 500, 1000]
      
    svm:
      default_params:
        C: 1.0
        kernel: 'rbf'
        gamma: 'scale'
        probability: True
        random_state: 42
      hyperparameter_space:
        C: [0.1, 1, 10, 100]
        kernel: ['rbf', 'poly', 'sigmoid']
        gamma: ['scale', 'auto', 0.001, 0.01, 0.1]
        degree: [2, 3, 4, 5]

# Unified preprocessing configuration
preprocessing:
  categorical_encoding: "label_encoding"
  numerical_scaling: "standard"
  handle_missing: "median"
  feature_selection:
    method: "selectkbest"
    k_features: 15
    score_func: "f_classif"

# Unified evaluation configuration
evaluation:
  metrics:
    - accuracy
    - precision
    - recall
    - f1_score
    - roc_auc
  thresholds:
    min_accuracy: 0.75
    min_precision: 0.70
    min_recall: 0.70
    min_f1_score: 0.70
    min_roc_auc: 0.80

# Unified registry configuration
registry:
  type: "unified"
  mlflow_integration: true
  local_backup: true
  stages:
    - staging
    - production
    - archived
  model_naming_pattern: "{model_type}_{timestamp}_{version}"
